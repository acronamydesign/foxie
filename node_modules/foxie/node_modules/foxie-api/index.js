fs = require("fs")

//this is done sync because I am not sure it will make a huge difference.


var apiCatStore = []
var apiCat = fs.readdirSync(__dirname)
for(dir in apiCat){
	if(apiCat[dir] != "package.json" && apiCat[dir] != "node_modules" && apiCat[dir] != "shell" && apiCat[dir] != "index.js"){

		var catagory = apiCat[dir]

		apiCatStore[catagory] = {}

		//recurse one level
		var files = fs.readdirSync(__dirname+"/"+apiCat[dir]);
		for(file in files){
			apiCatStore[catagory][files[file].split(".")[0]] = require(__dirname+"/"+apiCat[dir]+"/"+files[file])
		}
	}
}

var api = apiCatStore;

module.exports = api;
