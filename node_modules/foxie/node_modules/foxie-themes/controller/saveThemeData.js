var path = require("path"),
		async = require("async"),
		data = require("foxie-data"),
		api = require("foxie-api"),
		mongoose = require("foxie-mongoose")
		api = {
			loadModel:api.connection.loadModel,
			queryGate:api.connection.queryGate,
			installed:api.misc.installStat
		}

var schema = {
	themes:api.loadModel("foxie-themes","themes.model.js"),
	mountedThemes:api.loadModel("foxie-themes","mount.model.js")
}

async.parallel([//initial run behavior
	function(){
		require("./save/themeSubApp.js")()
	},
	function(){
		require("./save/themeMeta.js")()
	},
	function(){
		require("./overide/loadSystemDir.js")()//all system templates to splice
		require("./overide/loadThemeDir.js")()//all valid and active themes by user or defaults
	}
])
