var data = require("foxie-data"),
		path = require("path"),
		api = require("foxie-api"),
		colors = require("colors"),
		api = {
			machineName:api.misc.machineName
		}

module.exports = function(handle,themeName){

	var themeNameMachine = api.machineName(themeName),
			assetData = data.themes[themeNameMachine+"--assets"],
			buildData = assetData.settings.build,
			src = buildData.src,
			dest = buildData.dest,
			options = buildData.options,
			themePathRoot = path.join(data.public.themes,themeName)

	if(src == themePathRoot && dest == themePathRoot){
		src=undefined
		dest=undefined
	}
	else{

		if(handle.styl.length > 0){
			require("./styles/stylus.js")(themePathRoot,handle.styl,{
				src:src,
				dest:dest,
				options:options
			})
		}
		if(handle.less.length > 0){
			require("./styles/less.js")(themePathRoot,handle.less,{
				src:src,
				dest:dest,
				options:options
			})
		}
		if(handle.scss.length > 0){
			console.log(colors.pink("Sass is currently not supported by Foxie's native auto compiler, please use a build tool like gulp or grunt."))
		}
	}


}
